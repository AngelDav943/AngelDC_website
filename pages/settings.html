<h1>Settings</h1>
<br>
<article id="User_config">
	<h3>User configuration</h3>
	<br>
	<div>
		<p>Display name: </p>
		<input type="text" style="border-radius: 500vw;" value="<¡user_displayname>" id="insertname">
		<input type='button' style="border-radius: 500vw;" value='Change' onclick="window.location = ('__rooturl/api/users/changeuserdata?name=displayname&value='+document.getElementById('insertname').value);">
	</div>
	<br>
	<div>
		<p>Description: </p>
		<textarea style="width:100%; resize:vertical;" class="changedesc" rows='10' id='insertdescription'><¡description></textarea>
	</div>
	<input type='button' value='Submit' onclick="window.location = ('__rooturl/api/users/changeuserdata?name=description&value='+document.getElementById('insertdescription').value.replace(new RegExp(String.fromCharCode(10),'g'), '<LINEBREAK>'));">
	<br>
	<br>
	<form action="/setavatar" method="POST" enctype="multipart/form-data">
		<p>Profile picture</p>
    	<input type="file" name="file">
    	<button>upload</button>
    </form>
	<br>
	<form action="/setbackground" method="POST" enctype="multipart/form-data">
		<p>Background picture</p>
        <input type="file" name="file">
        <button>upload</button>
    </form>
</article>

<article id="external">
	<h3>Advanced settings</h3>
	<script src="__rooturl/assets/scripts/hasher.js"></script>
	<article>
		<p><¡external.status> external login</p>
		<input type="text" id="Username" placeholder="Username">
		<input type="password" id="Password" placeholder="password">
		<input type="button" value="<¡external.status>" onclick="window.location = ('__rooturl/api/users/external/setpass?i=' + document.getElementById('Username').value + '&ts=' + document.getElementById('Password').value.hashCode()) + '&y=<¡external.statusbool>'; ">
		<input type="button" value="reset external password" onclick="window.location = ('__rooturl/api/users/external/setpass?i=' + document.getElementById('Username').value + '&ts=' + document.getElementById('Password').value.hashCode()) + '&y=true'; ">
	</article>
		
	<p>External password: <¡external.pass></p>
</article>

<article id="themes">
	<h3>Customize Website</h3>
	<br>
	<div>
		<p><¡background.status> custom background</p>
		<input type="button" value="<¡background.status>" onclick='background("<¡background.buttonstatus>")'>
	</div>
	<br>
	<div>
		<p>Themes</p>
		<input type="button" value="Default" onclick='theme("")'>
		<input type="button" value="Default Light" onclick='theme("light")'>
		<input type="button" value="Minimalist Dark" onclick='theme("old")'>
		<input type="button" value="Legacy" onclick='theme("legacy")'>
	</div>
</article>

<script src="__rooturl/assets/scripts/coookie.js"></script>
<script>
function background(status) {
	let modecookie = getCookie(document.cookie,"background")
	document.cookie = `background=${status};`;
	window.location = document.URL
}
	
function theme(colorname) {
	let modecookie = getCookie(document.cookie,"theme")
	document.cookie = `theme=${colorname};`;
	window.location = document.URL
}
document.getElementById("insertdescription").innerHTML = document.getElementById("insertdescription").innerHTML.replaceAll(/\t/g,"")
</script>